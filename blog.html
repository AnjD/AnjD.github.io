<!DOCTYPE html>
 <html lang="en">
 <head>
 <title>Astronomy 341 Research Blog</title>
 <meta charset="utf-8">
 	<link href="https://fonts.googleapis.com/css?family=Italianno|Josefin+Sans" rel="stylesheet">
 	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="icon" type="image" href="orbit.png"> 
 </head>
 <body data-spy="scroll" data-target=".navbar" data-offset="50">
 	<!-- NAVBAR -->
 	<nav class="navbar navbar-inverse navbar-fixed-top">
 		<div class="navbar-header navbar-right">
 			<h1 style="color: rgb(92, 138, 138); font-family: 'Italianno', cursive; margin: 0px 30px; font-size: 50px">Anjali K. Desai</h1>
 		</div>
    	<ul class="nav navbar-nav" >
			<li><a href="index.html">Home</a></li>    	
   			<li><a href="about.html">About Me</a></li>
  			<li><a href="project.html">Projects</a></li>
   			<li><a href="resume.html">Resume</a></li>
   			<li><a href="contact.html">Contact Me</a></li>
   			<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Research Blog<span class="caret"></span></a>
            	<ul class="dropdown-menu">
            		<li><a href="#blog1">Week 1</a></li>    	
   					<li><a href="#blog2">Week 2</a></li>
   					<li><a href="#blog3">Week 3</a></li>
   					<li><a href="#blog4">Week 4</a></li>
   					<li><a href="#blog5">Week 5</a></li>
   					<li><a href="#blog6">Week 6</a></li>
   				</ul>
   			</li>
    	</ul>
	</nav>

	<!-- DESCRIPTION -->
	<div id="blog1" class="container-fluid" style="padding-top:50px">
		<div class="col-sm-1"></div>
		<div class="col-sm-10">
		<hr>
			<div class="col-10">
				<h1>Week #1</h1>
				<h3>Summary of the Observing Trip</h3>
				<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
					During the trip I learned that it is very important to keep track of what images you are taking and which ones you have already taken.  Without this it is very easy to get confused and loose track of what you are observing.  As a student my role was to take images of the fields and to log the images we have taken.  It was also our role to make sure the field is in focus, move the telescope and dome when switching a field, and track the field by finding a guide star.  I learned it it is quite easy, and simple, to command the HDI through the HDI server.  It is also very easy to make a mistake, but very hard to correct it once imaging has started.  The data contains images of four different fields that all vary in age.  However, they all contain young, low mass stars.  I learned the field 2, Taurus, has some nebulosity and interstellar dust and that field 4, Coma Ber, has various dim objects.  <br><br>

				</p>
				<h3 style="margin: 0px 0px">Reduction Summary</h3>
				<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
					In order to reduce the data we will be using python and Jupyter notebooks; we will also use Ds9. First we create the master bias and then create the master flat.  After, we get these two images we subtract our master bias from our raw science image and then divided this by the master flat.  We have now reduced our data; now we need to stack it so our images, in each filter, is aligned.  Now we stack the images to ensure all of our reduced data is aligned.  We do this by following the COR method.  First we calculate where two images overlap and measure their x and y offsets.  Next, we shift the image by the x and y offsets.  We then repeat this process for the remaining images in each filter. <br><br>
				</p>
				<h3  style="margin: 0px 0px">What Data Will We Use?</h3>
				<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
					For our research we will be using the science images of Coma Ber.  We will also use both dome and twilight flats and all the bias images.  <br>
				</p>
			</div>
		</div>
	</div>

	<div id="blog2" class="container-fluid" style="padding-top:50px">
		<div class="col-sm-1"></div>
		<div class="col-sm-10">
		<hr>
			<div class="col-10">
				<h1>Week #2</h1>
				<h3>Summary of the Past Week</h3>
				<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
					This past week I worked on bias-correction in the images of our run; specifically the images from Night 4.  It is necessary to do bias-correction because by doing so you are eliminating excess noise and the overscan region.  The overscan is caused due to the fact that the CCD has 4 detectors that often collect the same data in certain regions.  My pseudocode stated to subtract the overscan from all the quadrants and piece them together.  It did not explore the calculating the mean overscan and creating a blank image and adding the bias subtracted images to the blank image. <br> 

					The process to bias-correct your images is as follows (1) read the mean overscan values of the images (2) subtract the values from each quadrant (3) create a blank image (4) add the bias subtracted quadrants to the new image.  <br>

					I decided to run the benchmark test on my personal computer.  The total time elapsed to read the bias files was 0.092 seconds and the total time elapsed to read and calculate the median overscan was 6.92 seconds. <br>

					From the Night 4 dataset I used only the Coma Ber images in the I band filter.  The corrected images had a black stripe going through the middle of the image, depicting the overscan subtraction.  Overall it was a bit hard to see the stars in the field; this may be because of the high wind speeds. <br><br>
				</p>
				<h3 style="margin: 0px 0px">Herbst Paper Notes</h3>
				<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
					Objective: <br>
					Investigate the rotation period data from a large range of masses. Discuss why our present knowledge of these objects prevents us from learning more about their rotation rates in their first Myrs of life.  <br> <br>
					Methods: <br>
					To measure the rotation rates of these objects, spots on its’ surface were monitored.  Light curves were made from these observations.  <br><br>
					Main Points: <br>
					It is hard to monitor the evolution of rotation rates of young stellar objects and brown dwarfs because we do not know much  about their stellar radii. We can identify specific rotation rates of these objects because they are near independent of their mass.  The more massive stars follow a nice bimodal distribution in their early phases.  The rapid rotators evolve to ZAMS with little to no angular momentum loss.  A connection between the rotation rates and accretion seems prevalent as the slower rotators lose a lot of momentum and have accretion disks.  The accretion disks seem to affect the rotation rates of the object for about 5 Myr (sometimes less).  If the data collected is accurate then solar like stars have about 1 Myr to create giant planets.  <br><br>
				</p>
				<h3  style="margin: 0px 0px">Feedback from Proposal Outline</h3>
				<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
					My proposal outline was very basic and was only a half page long.  I was able to get a lot of  feedback on my proposal.  When I began writing the proposal I didn’t have a clear objective or motivation, but with the feedback I was able to come up with a clearer idea of the project. 
					<br><br>
				</p>
				<h3 style="margin: 0px 0px">Additional Paper</h3>
				<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
					I found a paper titled "New Red Jewels in Coma Berenices".  It explores how new objects were discovered in Coma Ber using data taken from Sloan Digital Sky Survey - III.  I am still trying to figure out the techniques of the paper.  
					<br><br>
				</p>
				<hr>
			</div>
		</div>
		</div>

			<div id="blog3" class="container-fluid" style="padding-top:50px">
				<div class="col-sm-1"></div>
				<div class="col-sm-10">
				<hr>
					<div class="col-10">
					<h1>Week #3</h1>
					<h3>Summary of the Past Week</h3><br>
					<h4>Bias Correction</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						Over the past week I worked on bias-correction and flatfielding.  While performing bias-correction I sorted out the Coma Ber images that were taken in the I band filter.  I did this by looking at the observation logs and matching the image numbers.  I then put the Coma Ber images in their own file.  Out of those images I used the find_files() function in the bias_correction folder to identify those images taken in the I band filter. <br> 
						After isolating those images I read the images and bias corrected and removed the overscan.  However, when I did this the resulting image was not what I was expecting.  Here is what the images looked like:<br>
						<img src="biasCorr.png" alt="BiasCorr" class="center" width="500" height="377"><br>
						As you can see there are not many stars that you can see in the image.  I am not entirely sure why this is happening.  
  						<br><br>
					</p>
					<h4>Flat Fielding</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
					After my images were bias corrected I began the flatfielding process.  The first step was to identify all the flat images in the Night 4 data.  I did this my matching the image numbers from the observing logs to the numbers listed in the file name.  Once I isolated the flat images taken in the I band filter, I began to create the master flat. <br>

					In order to create a master flat I first completed the bias correction on the flat images in the I band filter.  After I did this I stacked the flats into a median combo.  Once this is done I normalized the median combo image by its median value.  <br>

					I ran into a problem when trying to stack the flats in the I band filter.  The total number of flat images I had counted was 14, but all the program found was 5.  I believe this is because in the header of the omitted images their type is stated as Object instead of Flat.  I am unsure on how to fix this. <br>  

					After creating the master flat you need to divide the science images by the master flat.  I first decided work on one science image to see if the program is working.  Unfortunately, this is where I ran into my biggest problem.  As I tried to divide the science images by the master flat I kept getting the following error message: ValueError: operands could not be broadcast together with shapes (4112,4312) (0,).  I am still trying to figure out why this is happening, but have not had any luck so far.  <br><br>
					</p>
					<h4>The Next Steps</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						The next steps in the data analysis would be to bias subtract and flatfield all the Coma Ber images from all the nights.  This is take a lot of memory and time, so there is no way I can perform it on my laptop.  I will have to go use one of the lab computers.  <br><br>
					</p> 
					<h3 style="margin: 0px 0px">Paper Notes</h3>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
						The paper I found useful for my project is titled “New Red Jewels in Coma Berenices”.  The paper explores the new objects found in Coma Ber.  It states how the researchers used the Sloan Digital Sky Survey-III data to identify the objects in Coma Ber.  They were able to confirm the presence of eight K/M dwarf stars in the cluster. <br> 
						This paper explored the relevance of studying the low mass stars in the cluster.  It helped me find the scientific motivation for my research proposal and also helped me visualize the type of objects that are located in Coma Ber.  The following graph was helpful in this visualization.  <br>
						<img src="article.jpg" alt="article" class="center" width="400" height="377"><br><br><br>
					</p>
					<hr>
				</div>
			</div>
		</div>

		<div id="blog4" class="container-fluid" style="padding-top:50px">
				<div class="col-sm-1"></div>
				<div class="col-sm-10">
				<hr>
					<div class="col-10">
					<h1>Week #4</h1>
					<h3>Summary of the Past Week</h3><br>
					<h4>Updates to Flatfielding</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						Last week I had an error in my flatfielding code that stated the shapes of the arrays I was trying to divide were mismatched.  It became very frustrating to try and figure out what the issue was, I kept on overlooking it.  Eventually, I was able to find the error; when I was combining my flats by calculating the median my array’s axis was 2 instead of 0.  Once I changed this part of my code I was able to obtain my master flat. 
						<br><br>
					</p>
					<h4>Aligning and Combining Images</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
					There are two processes of aligning and combining the images that we looked at.  The first was adapted from our previous Observational Techniques class and the other is a new technique we are currently learning in class.
					<br><br>
					Median Combine Stacked Images<br>
					The first concept involves stacking images to combine them into one final image.  You first open one image; this will be considered your master, all other images will align themselves to this image.  Once you open your image you calculate the x and y displacement of your image.  What you are doing here is calculating how much you need to shift the image, to match the master, in the x and y axis.  You then create an empty array and add your new shifted image to the array; this array has the same dimensions as the master image.  We repeat this until a stack is made.  Finally, we median combine the images and make our final image. <br><br>
					Sigma Clipping<br>
					This method is kind of like a more sophisticated way of median combining your images.  Sigma Clipping involves calculating the standard deviation and median of an image.  Once you find this you will remove any pixels that are smaller or larger than your median and standard deviation values.  You repeat this procedure until all your images are distributed accordingly.  The process for creating a new array and adding the new image still holds.  
					<br><br>
					</p>
					<h4>Roadblocks</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						Due to the fact that I was not on campus this weekend I was not able to use the lab computers until Tuesday evening.  I noticed a huge difference in using the lab computers instead of mine.  Because of this delay I have only been able to go through with the combining images method that we used in AST 337.  I started the combining process by initially just coding on my laptop however, I was not able to test my code as doing so would take up a lot of memory and time.  The bias correction part of the notebook went smoothly.  Once the bias correction was done I started running into some issues.   <br>
						The first of which being that I cannot divide my science images by my master flat because their dimensions do not match.  I had realized that I never got the data from the master flat image.  Even after I got the data from the master flat I kept running into division errors.  It was then that I decided to just add the master flat calculation to my current notebook and just to call the newly calculated image, instead of calling it from a folder.  <br>
						I had tried to create lists of the new images that were being created; after bias correction and flatfielding.  Unfortunately, this did not work out well.  In the end I just wrote the files and accessed them again in order to perform the necessary data reduction.  The next big issue I ran into was when I viewed the combined images this is what I saw: <br>
						<img src="im1.png" alt="Comb1" class="center" width="500" height="377"><br>
						As you can see the image has a bar through the middle with a lot of white specs.  There are also no stars to be seen anywhere else in the image.  This is because I had forgotten to trim the bias from both the flat and science images.  Once, I trimmed the image I was given a much better result.  Here are the before and after data reduction images: <br>
						BEFORE: <img src="im4.png" alt="Raw" class="center" width="500" height="377"><br>

						AFTER: <img src="im2.png" alt="Comb2" class="center" width="500" height="377"><br>
					</p> 
					<h4>Next Steps</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						My next data analysis steps would be to 1) finish combining the images with sigma clipping and 2) repeat the same process for all the remaining nights of the observing run.  Once I have reduced all my data I will move on to calculating the magnitudes of the stars in the image.  This will be done by the help of aperture photometry.   <br><br>
					</p> 
					<h3 style="margin: 0px 0px">Proposal Writing Updates</h3>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
						I have received my comments on my proposal and have realized that I need to do the following things: 1) Expand the abstract and include more scientific justification and information about what we used to collect the data, 2) Expand on the knowledge of M-dwarf stars in Coma Ber and why it is important to know more about them, 3) Talk more about differential photometry and how to obtain a light curve, and 4) include more information about figures and how the project relates to my partner’s project.  <br><br>
					</p>
					<h4>What is Differential Photometry?</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						Differential photometry helps us obtain the raw magnitude of the star.  What does this mean? When we observe a certain field the magnitudes we obtain are called instrumental magnitudes.  This is because the instruments cause some interference and thus cause the calculated data to be skewed a bit.  With the help of differential photometry we are able to combat this issue.  This practice involves using a star in the same image and calculating its difference from the other stars in the field.  Here is what three stars look like before and after differential photometry. <br>
						BEFORE: <img src="diffPhot1.png" alt="diffPhot1" class="center" width="500" height="377"><br>

						AFTER: <img src="diffPhot2.png" alt="diffPhot2" class="center" width="500" height="377"><br>
  						<br><br>
					</p> 
					<hr>
				</div>
			</div>
		</div>

		<div id="blog5" class="container-fluid" style="padding-top:50px">
				<div class="col-sm-1"></div>
				<div class="col-sm-10">
				<hr>
					<div class="col-10">
					<h1>Week #5</h1>
					<h3>Summary of the Past Week</h3><br>
					<h4>Upgrades to Reduction Code</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						I did not make many changes to my reduction code.  However, I added some for loops to filter only the necessary images needed for the data reduction and analysis process.  I am currently working on sigma clipping my flats, but first I want to see what the data actually looks like for another night.  My night 4 data was a bit obscured due to some cloud coverage. 
						<br><br>
					</p>
					<h4>Improvements to Analysis Steps</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
					Since I did not make many updates to my code I did not make many improvements.  The one thing that I did change in my code, although not necessarily to do with analysis, is that I now am able to filter out the images I need for my analysis on my code rather than go through them individually.  This saves me a great deal of time.  So far, I have only been creating master flats from the dome flats, but want to try the twilight flats as well.
					<br><br>
					</p>
					<h4>Roadblocks</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						DThis week I did not have any major roadblocks in my code, but did need to do a lot of debugging.  The best way I feel to do this is go line by line and re-read your code.  Speaking out loud about what the code does is always helpful (or the Rubber Duck method).  Print statements are always a good way to understand your code.  If I get really stuck on an error my code is throwing sometimes it is helpful to google the error to get an idea of what the error really is.  From there it becomes much easier to fix your errors. <br>
						When I tried downloading the Night 3 data initially I was given an error stating that some of the files contained viruses in them so they could not be downloaded.  I am going to try and download the fits images from my laptop onto the sd card and then move to the lab computer to reduce the images.  <br><br>

					</p> 
					<h4>Next Steps</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						The next analysis steps here would be to perform differential photometry.  We will need to find a star in the image that isn’t in Coma Ber.  This will be simpler to do since we now know a method for identifying which images are in the field.  Out of the stars that are not in the Coma Ber we will need to pick a star that has a similar instrumental magnitude to the stars that are in Coma Ber.  From here we can find the difference between our reference star and our stars in the cluster.  This difference that we calculate will be our observed magnitude of the star.    <br><br>
					</p> 
					<h3 style="margin: 0px 0px">Which Stars are Actually in Coma Ber?</h3>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8">
						During last class, on Thursday February 22nd, we did an in-class exercise to see how many stars are actually in our field.  We were giving a reduced and combined image of Coma Ber from Night 3, you can clearly see quite a bit of stars in this image.  We first uploaded the image to astrometry.net and were given the RA and Dec of each point in the image.  From this image we conducted some aperture photometry and discovered that the program found 144 stars.  You can see the results of the aperture photometry: <br>
						<img src="regionsFound.png" alt="regions" class="center" width="500" height="377"><br>
						After the comparison we saw that out of the 144 stars only 18 are actually in Coma Ber and are known.  I am currently working on laying these identified regions on the image.  <br><br>
					</p>
					<h3>Notes from Reading Over Previous Proposal Examples</h3>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						While reading over the proposal examples I was able to pick out some key components that would help me with my proposal revision.  One main thing I noticed is that the proposals do not have to be extremely long as long as they cover all the topics needed. It was also helpful to see how to cite certain types of articles.  Since, this is my first piece of scientific writing for Astronomy it was good to see what other undergraduates had written.  
  						<br><br>
					</p> 
					<hr>
				</div>
			</div>
		</div>

		<div id="blog6" class="container-fluid" style="padding-top:50px">
				<div class="col-sm-1"></div>
				<div class="col-sm-10">
				<hr>
					<div class="col-10">
					<h1>Week #6</h1>
					<h3>Summary of the Past Week</h3><br>
					<h4>Upgrades to Reduction Code</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						LI didn’t have many changes to my reduction code.  However, I did try the new updated alignment code.  More notes on how that went below. 
						<br><br>
					</p>
					<h4>Notes on Nights 2 and 3</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
					There are stars!!! Unfortunately I was only able to do reductions on Night 3, thus far.  The main difficulty I had with doing the reduction of Night 3 was trying to download all the files.  When I went to download the files from Google Drive I kept getting errors stating that the files did not download properly.  I then tried iGetter, but could not download it on my computer.  Finally, I decided to use the command line to download the multiple files.  I used the command curl -O [url] to download the files.  I had made the mistake of using the url of the folder containing the files instead of the files themselves.  When I changed this, and added the range of files I wanted, I was able to download the files with ease.  This is what the images looked like after the corrections:<br> 
					<img src="Night3.png" alt="Night3" class="center" width="500" height="377"> 
					<br><br>
					</p>
					<h4>Notes on AstroImageJ</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						DAstroImageJ creates a light curve of your target star.  You identify your target star and comparison stars.  Once you do this the program performs differential photometry and plots the lightcurve for your target star.  I chose a target star in my field and chose the comparison star based on how much it varied throughout the images.  The light curve I came up with was a bit puzzling.  I’m not sure how to interpret this: <br>
						<img src="lightCurve1.png" alt="lCurve1" class="center" width="500" height="377"><br>
						I believe that the gaps are due to the fact that I am only looking at 1 filter so the time is not continuous.  I’m hoping to figure out the best way around this, but as of now I am unclear as to how to do this.  <br><br>
					</p> 
					<h4>Notes on Image-Registration-Pedagogy</h4>
					<p class="text-left" style="letter-spacing: 1px; line-height: 1.8; margin: 0px 0px;">
						I had tried to use the Image-Registration-Pedagogy notebook, but could not get past the error I got when trying to import HDI_io.  I did not have much time to work through this error, but plan on working through it once break is over.  For now I have just used my alignment code.    <br><br>
					</p> 
			<div class="col-sm-11 text-right" style="letter-spacing: 2px; line-height: 1.8; color: rgb(217,217,217)">
				<p>
					"The universe is under no obligation to make sense to you." <br>-Neil DeGrasse Tyson
				</p>
			</div>
		</div>
	</div>
 </body>
 <style>

 	body {
		background-image: url("star.jpg");
	}

 	.navbar.navbar-inverse {
    	font-family: 'Josefin Sans', sans-serif;
    	background-color: black;
    	font-size: 17px;
    	padding: -10px ;
  	}

  	.col-sm-10{
  		background-color: black;
  		font-family: 'Josefin Sans', sans-serif;
  		color: rgb(217,217,217); 
  	}
 </style>
 </html>